<% devise_error_messages! %>

<h2 class="text-center">Editar cuenta</h2>

<div class="container-fluid">
  <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
    
    <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
      <div>Todavía se está esperando que se confirme el email: <%= resource.unconfirmed_email %></div>
    <% end %>

  <div class="row">
    <div class="col-xs-3 col-md-3"></div>
    <div class="col-xs-6 col-md-6"><%= f.label :password %> <span class="italica">(dejar en blanco si no deseas cambiarla)</span></div>
  </div>

  <div class="row">
    <div class="col-xs-3 col-md-3"></div>
    <div class="col-xs-6 col-md-6"><%= f.password_field :password, autocomplete: "off" , class:"form-control" %>
    </div>
  </div>


  <div class="row">
    <div class="col-xs-3 col-md-3"></div>
    <div class="col-xs-6 col-md-6"><%= f.label :password_confirmation %> <span class="italica">(dejar en blanco si no deseas cambiarla)</span></div>
  </div>

  <div class="row">
    <div class="col-xs-3 col-md-3"></div>
    <div class="col-xs-6 col-md-6"><%= f.password_field :password_confirmation, autocomplete: "off" , class:"form-control" %></div>
  </div>

  <div class="row" style="padding-top: 1.5em;">
    <div class="col-xs-3 col-md-3"></div>
    <div class="col-xs-6 col-md-6"><span class="destacado">CONFIRMAR CAMBIOS Y GUARDAR INFORMACIÓN</span></div>
  </div>

  <div class="row" style="padding-top: 1.5em;">
    <div class="col-xs-3 col-md-3"></div>
    <div class="col-xs-6 col-md-6"><%= f.label :current_password %> <span class="italica">(necesitamos tu contraseña actual para confirmar los cambios)</span></div>
  </div>

  <div class="row">
    <div class="col-xs-3 col-md-3"></div>
    <div class="col-xs-6 col-md-6"><%= f.password_field :current_password, autocomplete: "off" , :required => "required", class:"form-control" %></div>
  </div>

  <div class="row" style="padding-top:1em;padding-bottom:1em">
    <div class="col-xs-3 col-md-3"></div>
    <div class="col-xs-6 col-md-6"><%= f.submit "Actualizar" , class:"btn btn-default" %></div>
  </div>

  <% end %>

  <div class="row" style="padding-top:1.5em">
    <div class="col-xs-3 col-md-3"></div>
    <div class="col-xs-6 col-md-6"><span class="error">CERRAR CUENTA</span></div>
  </div>

  <div class="row" style="padding-top:1.5em;padding-bottom:1em">
    <div class="col-xs-3 col-md-3"></div>
    <div class="col-xs-6 col-md-6"><span>¿Seguro?</span></div>
  </div>

  <div class="row" style="padding-top:1em;padding-bottom:1em">
    <div class="col-xs-3 col-md-3"></div>
    <div class="col-xs-6 col-md-6">
      <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#cerrarCuenta">Cerrar cuenta</button>
      <!-- Modal -->
      <div class="modal fade" id="cerrarCuenta" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Cerrar</span></button>
              <center><h4 class="modal-title negrita" id="myModalLabel">Eliminar cuenta</h4></center>
            </div>
            <div class="modal-body" style="text-align: left;">
              <%= form_for(resource, as: resource_name, url: registration_path(resource_name), method: :delete ) do |f| %>
              
                <div class="row" style="padding-top: 1.5em;">
                  <div class="col-xs-3 col-md-3"></div>
                  <div class="col-xs-6 col-md-6"><%= f.label :current_password %> <span class="italica">(necesitamos tu contraseña para eliminar la cuenta)</span></div>
                </div>

                <div class="row">
                  <div class="col-xs-3 col-md-3"></div>
                  <div class="col-xs-6 col-md-6" style="padding-top:1em;padding-bottom:1em"><%= f.password_field :current_password, autocomplete: "off" , :required => "required", class:"form-control" %></div>
                </div>

                <div class="row" style="padding-top:1em;padding-bottom:1em">
                  <div class="col-xs-3 col-md-3"></div>
                  <div class="col-xs-6 col-md-6"><center><%= f.submit "Eliminar cuenta" , class:"btn btn-danger" %></center></div>
                </div>

              <% end %>
            </div>
          </div>
        </div>
      </div>
      <!-- End Modal --></div>
  </div>

</div>


